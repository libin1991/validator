!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.validator={})}(this,function(e){"use strict";var t={hasError:function(){return Object.keys(this).length>0},first:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object.values(this)[e]},firstKey:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object.keys(this)[e]}},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n={bind:function(e){e.handler=function(e){e.currentTarget.style.color=null},e.addEventListener("click",e.handler)},unbind:function(e){e.removeEventListener("click",e.handler)},update:function(e,t){var r=t.value,n=t.arg;r&&r[n]&&(e.style.color="#ff635b",r[n]=null,r.firstKey()===n&&e.scrollIntoView({behavior:"smooth",block:"start",inline:"start"}))}},i={directives:{error:n}};e.validator=function(e,n){var i=Object.keys(n).reduce(function(t,i){var o,a,l,s=e[i],f=!1,c=n[i],u=c.required,d=c.pattern,v=c.validator,y=c.alias,b=void 0===y?i:y,p=c.message,h=void 0===p?"请输入正确的"+b:p,g=c.trim;if((void 0===g||g)&&"string"==typeof s&&(s=s.trim()),void 0===s||null===s||s.length<=0||"{}"===JSON.stringify(s))u&&(f="string"==typeof u?u:"请输入"+b);else if(d&&!d.test(s))f=h;else if("function"==typeof v){var O=v(s,e);"string"==typeof O?f=O:O||(f=h)}return f?r({},t,(l=f,(a=i)in(o={})?Object.defineProperty(o,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[a]=l,o)):t},{});return Object.setPrototypeOf(i,t)},e.errorMixin=i,e.error=n,Object.defineProperty(e,"__esModule",{value:!0})});
